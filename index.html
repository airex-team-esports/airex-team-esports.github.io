<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="theme-color" content="#ff004c"> <meta name="description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –∫–∏–±–µ—Ä—Å–ø–æ—Ä—Ç–∏–≤–Ω–æ–π –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ AIREX TEAM. –î–æ–º–∏–Ω–∏—Ä—É–π. –†–∞–∑–≤–∏–≤–∞–π—Å—è. –ü–æ–±–µ–∂–¥–∞–π.">
<meta name="keywords" content="Airex Team, Standoff 2, Cybersport, Clan, Tournaments">

<title>AIREX TEAM | –û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç</title>
  
<meta property="og:title" content="AIREX TEAM | Esports Organization">
<meta property="og:description" content="–û—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –ø–æ—Ä—Ç–∞–ª –∫–æ–º–∞–Ω–¥—ã AIREX. –ù–æ–≤–æ—Å—Ç–∏, —Å–æ—Å—Ç–∞–≤ –∏ –∑–∞–ø–∏—Å—å –Ω–∞ –ø—Ä–∞–∫–∏.">
<meta property="og:image" content="https://airex-team-esports.github.io/logo.png"> 
<meta property="og:type" content="website">
<meta property="og:url" content="https://airex-team-esports.github.io/">

  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700;800&family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    /* --- 1. CORE VARIABLES (SYSTEM CONFIG) --- */
    :root {
      --accent: #ff004c;
      --accent-dim: rgba(255, 0, 76, 0.1);
      --accent-glow: rgba(255, 0, 76, 0.5);
      
      --bg-deep: #050505;
      --bg-panel: rgba(15, 15, 15, 0.85);
      
      --glass-border: rgba(255, 255, 255, 0.08);
      --glass-highlight: rgba(255, 255, 255, 0.03);
      
      --text-white: #ffffff;
      --text-gray: #a0a0a0;
      --text-muted: #555555;
      
      --success: #00ffa3;
      --warning: #ffcc00;
      
      --font-main: 'Montserrat', sans-serif;
      --font-tech: 'Orbitron', sans-serif;
      
      --ease-smooth: cubic-bezier(0.23, 1, 0.32, 1);
      --ease-bounce: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    /* --- 2. GLOBAL RESET & SCROLLBAR --- */
    html { scroll-behavior: smooth; }
    *, *::before, *::after { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    
    body {
      margin: 0; 
      background-color: var(--bg-deep);
      font-family: var(--font-main); 
      color: var(--text-white);
      min-height: 100vh; 
      overflow-x: hidden; 
      padding-top: 80px;
      user-select: none;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: var(--bg-deep); }
    ::-webkit-scrollbar-thumb { background: var(--accent); border-radius: 3px; }
    ::-webkit-scrollbar-thumb:hover { background: #ff3366; }

    /* --- 3. ATMOSPHERE & BACKGROUND --- */
    .scanlines {
      position: fixed; inset: 0; pointer-events: none; z-index: 9000;
      background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.1) 50%), linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
      background-size: 100% 3px, 3px 100%;
      opacity: 0.6;
    }

    .bg-logo {
      opacity: 0.04;
      position: fixed; top: 50%; left: 50%; 
      transform: translate(-50%, -50%);
      width: 90vw; height: 90vh;
      background: url('logo.png') center/contain no-repeat;
      z-index: -1; pointer-events: none;
      filter: grayscale(100%);
    }

    /* --- 4. PRELOADER --- */
    #preloader {
      position: fixed; inset: 0; z-index: 11000;
      background: var(--bg-deep);
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      transition: opacity 0.5s ease, visibility 0.5s;
    }
    .loader-spinner {
      width: 50px; height: 50px; border: 3px solid transparent;
      border-top-color: var(--accent); border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* --- 5. UI COMPONENTS (Buttons, Cards) --- */
    .btn-glitch {
      display: inline-flex; align-items: center; justify-content: center;
      padding: 14px 28px; background: rgba(0,0,0,0.6);
      border: 1px solid var(--accent); color: #fff;
      font-family: var(--font-tech); text-transform: uppercase; 
      font-size: 12px; font-weight: 700; letter-spacing: 2px;
      cursor: pointer; width: 100%; border-radius: 4px;
      transition: all 0.3s ease; position: relative; overflow: hidden;
      box-shadow: 0 0 10px rgba(255, 0, 76, 0.1);
    }
    .btn-glitch::before {
      content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
      transition: 0.5s;
    }
    .btn-glitch:hover { 
      background: var(--accent); 
      box-shadow: 0 0 25px var(--accent-glow); 
      transform: translateY(-2px); 
    }
    .btn-glitch:hover::before { left: 100%; }
    
    .btn-secondary { 
      background: rgba(255,255,255,0.03); 
      border-color: var(--glass-border); 
      color: var(--text-gray); 
    }
    .btn-secondary:hover { background: rgba(255,255,255,0.1); border-color: #fff; box-shadow: none; }

    .card {
      background: var(--bg-panel);
      backdrop-filter: blur(15px); -webkit-backdrop-filter: blur(15px);
      border: 1px solid var(--glass-border);
      border-radius: 16px; padding: 24px; margin-bottom: 20px;
      position: relative; overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
      transition: transform 0.3s ease, border-color 0.3s ease;
    }
    .card:hover { border-color: var(--accent-dim); }

    /* --- 6. NAVIGATION --- */
    .navbar {
      position: fixed; top: 0; inset-inline: 0; height: 72px;
      background: rgba(5, 5, 5, 0.9); 
      backdrop-filter: blur(20px); 
      border-bottom: 1px solid var(--glass-border); 
      z-index: 1000;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 5%;
    }
    .nav-brand { display: flex; align-items: center; gap: 12px; cursor: pointer; }
    .nav-brand img { height: 40px; filter: drop-shadow(0 0 8px var(--accent-dim)); }
    .nav-brand h1 {
      font-family: var(--font-tech); font-size: 18px; margin: 0;
      text-transform: uppercase; letter-spacing: 2px;
      background: linear-gradient(135deg, #fff 50%, #777);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
    }
    
    .menu-toggle {
      background: transparent; border: none; color: #fff;
      font-size: 24px; cursor: pointer; padding: 10px;
      transition: transform 0.3s ease, color 0.3s ease;
    }
    .menu-toggle.active { transform: rotate(90deg); color: var(--accent); }

    .nav-dropdown {
      position: fixed; top: 75px; right: 20px; width: 220px;
      background: rgba(15, 15, 15, 0.98);
      border: 1px solid var(--glass-border); border-radius: 12px; padding: 8px;
      display: flex; flex-direction: column; gap: 4px;
      opacity: 0; visibility: hidden;
      transform: translateY(-10px) scale(0.95);
      transition: all 0.3s var(--ease-bounce);
      box-shadow: 0 20px 50px rgba(0,0,0,0.9);
      z-index: 1001;
    }
    .nav-dropdown.active { opacity: 1; visibility: visible; transform: translateY(0) scale(1); }

    .menu-item {
      display: flex; align-items: center; gap: 15px; padding: 12px 16px;
      background: transparent; border: none;
      color: var(--text-gray); font-family: var(--font-tech);
      font-size: 11px; text-transform: uppercase; font-weight: 600;
      letter-spacing: 1px; border-radius: 6px;
      cursor: pointer; transition: 0.2s; width: 100%; text-align: left;
    }
    .menu-item:hover, .menu-item.active-tab { background: var(--accent-dim); color: #fff; }
    .menu-item.active-tab i { color: var(--accent); }
    
    /* Badge System */
    .has-update::after {
      content: ''; position: absolute; right: 12px; width: 6px; height: 6px;
      background: var(--success); border-radius: 50%;
      box-shadow: 0 0 8px var(--success); animation: pulse-dot 2s infinite;
    }
    @keyframes pulse-dot { 50% { opacity: 0.4; transform: scale(1.2); } }

    /* --- 7. SECTIONS & ANIMATIONS --- */
    .container { max-width: 900px; margin: 0 auto; padding: 20px 15px 100px 15px; }
    
    section { 
      display: none; opacity: 0; 
      transform: translateY(20px); 
      transition: opacity 0.4s ease, transform 0.4s ease; 
    }
    section.active { display: block; opacity: 1; transform: translateY(0); }

    .font-tech { font-family: var(--font-tech); }
    .text-center { text-align: center; }
    .text-accent { color: var(--accent); }

    /* Hero */
    .hero-title {
      font-family: var(--font-tech); font-size: 36px; font-weight: 900;
      letter-spacing: 4px; color: #fff; margin-bottom: 10px;
      text-shadow: 0 0 20px var(--accent-dim);
    }
    #typing-text { font-family: monospace; color: var(--success); min-height: 20px; font-size: 13px; margin-bottom: 25px; }

    /* Inputs */
    .form-group { margin-bottom: 15px; }
    .form-label { display: block; color: var(--accent); font-size: 10px; margin-bottom: 6px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; }
    .form-input {
      width: 100%; background: rgba(0, 0, 0, 0.3); border: 1px solid var(--glass-border);
      color: #fff; padding: 14px; border-radius: 8px; outline: none; transition: 0.3s;
      font-family: var(--font-main); font-size: 14px;
    }
    .form-input:focus { border-color: var(--accent); box-shadow: 0 0 15px var(--accent-dim); background: rgba(0,0,0,0.5); }

    /* Match Center */
    .match-card {
      background: linear-gradient(180deg, rgba(20,20,20,0.95) 0%, rgba(30,10,15,0.6) 100%);
      border: 1px solid rgba(255, 0, 76, 0.2);
    }
    .countdown { display: flex; justify-content: center; gap: 15px; margin: 20px 0; font-family: var(--font-tech); }
    .cd-num { font-size: 32px; font-weight: 700; line-height: 1; }
    .cd-lbl { font-size: 9px; color: var(--accent); margin-top: 5px; text-align: center; }

/* === –ù–û–í–´–ô –î–ò–ó–ê–ô–ù –°–û–°–¢–ê–í–ê (EVO CARDS) === */
.roster-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); /* –ö–∞—Ä—Ç–æ—á–∫–∏ –ø–æ—à–∏—Ä–µ */
    gap: 25px;
    padding-bottom: 40px;
}

.evo-card {
    position: relative;
    height: 400px; /* –í—ã—Å–æ–∫–∏–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */
    background: #0a0a0a;
    border: 1px solid #333;
    border-radius: 4px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    /* –°–∫–æ—à–µ–Ω–Ω—ã–π —É–≥–æ–ª –≤ —Å—Ç–∏–ª–µ Tech */
    clip-path: polygon(
        0 0, 
        100% 0, 
        100% calc(100% - 20px), 
        calc(100% - 20px) 100%, 
        0 100%
    );
}

.evo-card:hover {
    transform: translateY(-5px);
    border-color: var(--accent);
    box-shadow: 0 10px 30px rgba(255, 68, 68, 0.15); /* –¶–≤–µ—Ç —Ç–µ–Ω–∏ –ø–æ–¥—Å—Ç—Ä–∞–∏–≤–∞–π –ø–æ–¥ accent */
}

/* –§–æ—Ç–æ –∏–≥—Ä–æ–∫–∞ */
.evo-avatar {
    width: 100%;
    height: 100%;
    object-fit: cover;
    opacity: 0.6;
    transition: 0.4s;
    filter: grayscale(100%);
}

.evo-card:hover .evo-avatar {
    opacity: 1;
    filter: grayscale(0%);
    transform: scale(1.05);
}

/* –ì—Ä–∞–¥–∏–µ–Ω—Ç —Å–Ω–∏–∑—É, —á—Ç–æ–±—ã —Ç–µ–∫—Å—Ç —á–∏—Ç–∞–ª—Å—è */
.evo-overlay {
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 80%;
    background: linear-gradient(to top, #000 10%, rgba(0,0,0,0.8) 50%, transparent 100%);
    pointer-events: none;
}

/* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è (–ù–∏–∫, —Ä–æ–ª—å) */
.evo-info {
    position: absolute;
    bottom: 20px;
    left: 20px;
    right: 20px;
    z-index: 2;
    transition: 0.4s;
}

.evo-card:hover .evo-info {
    bottom: 140px; /* –ü–æ–¥–Ω–∏–º–∞–µ–º –Ω–∏–∫ –≤–≤–µ—Ä—Ö –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
}

.evo-role {
    font-size: 10px;
    font-weight: 800;
    color: var(--accent);
    letter-spacing: 2px;
    margin-bottom: 5px;
    display: inline-block;
    padding: 3px 6px;
    background: rgba(255, 68, 68, 0.1);
    border: 1px solid var(--accent);
}

.evo-nick {
    font-family: var(--font-tech);
    font-size: 32px;
    color: #fff;
    line-height: 1;
    text-transform: uppercase;
    margin: 0;
    text-shadow: 0 0 10px rgba(0,0,0,0.5);
}

/* –°–∫—Ä—ã—Ç–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (–ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏) */
.evo-stats-panel {
    position: absolute;
    bottom: -120px; /* –°–ø—Ä—è—Ç–∞–Ω–æ –≤–Ω–∏–∑—É */
    left: 0;
    width: 100%;
    height: 120px;
    background: rgba(20, 20, 20, 0.95);
    border-top: 1px solid var(--accent);
    backdrop-filter: blur(10px);
    display: flex;
    justify-content: space-around;
    align-items: center;
    padding: 0 10px;
    transition: 0.4s cubic-bezier(0.23, 1, 0.32, 1);
    z-index: 3;
}

.evo-card:hover .evo-stats-panel,
.evo-card:active .evo-stats-panel { /* –î–ª—è –º–æ–±–∏–ª–æ–∫ –ø—Ä–∏ —Ç–∞–ø–µ */
    bottom: 0;
}

.stat-box {
    text-align: center;
}
.stat-val {
    font-family: var(--font-tech);
    font-size: 20px;
    color: #fff;
}
.stat-lbl {
    font-size: 9px;
    color: #666;
    margin-top: 2px;
}

/* –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω–∞—è –ª–∏–Ω–∏—è */
.tech-line {
    position: absolute;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    border-top: 2px solid var(--accent);
    border-right: 2px solid var(--accent);
    opacity: 0;
    transition: 0.4s;
}
.evo-card:hover .tech-line { opacity: 1; }

    /* News */
    .news-card-home { 
      padding: 15px; border-radius: 12px; 
      background: rgba(255,255,255,0.02); border: 1px solid var(--glass-border); 
      margin-bottom: 12px; transition: 0.3s; 
    }
    .news-card-home:hover { background: rgba(255,255,255,0.04); transform: translateX(5px); border-left: 2px solid var(--accent); }

    /* Player & HUD */
    #ambient-player {
        position: fixed; bottom: 25px; left: 25px; z-index: 9999;
        display: flex; align-items: center; gap: 12px;
        background: rgba(0, 0, 0, 0.6); backdrop-filter: blur(10px);
        padding: 8px 16px; border-radius: 50px;
        border: 1px solid var(--glass-border);
        transition: 0.3s;
    }
    #ambient-player:hover { border-color: var(--accent); box-shadow: 0 0 15px var(--accent-dim); }
    
    .hud-toast {
      background: rgba(10, 10, 10, 0.95);
      border-left: 3px solid var(--accent);
      padding: 15px 20px; min-width: 280px;
      color: #fff; font-family: var(--font-tech);
      box-shadow: 0 5px 20px rgba(0,0,0,0.5);
      backdrop-filter: blur(10px);
      display: flex; align-items: center; gap: 15px;
      /* Animation classes handled in JS */
      transform: translateX(120%); opacity: 0;
      transition: all 0.4s var(--ease-bounce);
    }
    .hud-toast.active { transform: translateX(0); opacity: 1; }

  </style>
</head>
<body>

<div class="scanlines"></div>
<div class="bg-logo"></div>

<div id="preloader">
    <div class="loader-spinner"></div>
    <div style="margin-top: 15px; font-family: var(--font-tech); letter-spacing: 2px; font-size: 12px; color: var(--text-gray);">SYSTEM LOADING</div>
</div>

<div id="ambient-player">
    <div class="play-state-icon" id="music-btn" onclick="toggleAmbient()" style="cursor: pointer; color: var(--accent);">
        <i class="fas fa-play" id="btn-icon"></i>
    </div>
    <div style="display: flex; flex-direction: column;">
        <span style="font-size: 9px; color: #666; font-family: var(--font-tech);">AMBIENT MODE</span>
        <span id="player-status" style="font-size: 11px; font-weight: 600;">OFFLINE</span>
    </div>
    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>
</div>

<nav class="navbar">
    <div class="nav-brand" onclick="location.reload()">
      <img src="logo.png" alt="AX" onerror="this.style.display='none'"> 
      <h1>Airex<span style="color:var(--text-gray); font-weight:400;">Team</span></h1>
    </div>

    <button class="menu-toggle" id="menuBtn" onclick="toggleMenu()">
        <i class="fas fa-bars"></i>
    </button>

    <div class="nav-dropdown" id="navDropdown">
      <button class="menu-item active-tab" id="btn-home" onclick="selectTab('home', this)"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</button>
      <button class="menu-item" id="btn-team" onclick="selectTab('team', this)"><i class="fas fa-users"></i> –°–æ—Å—Ç–∞–≤</button>
      <button class="menu-item" id="btn-practice" onclick="selectTab('practice', this)"><i class="fas fa-crosshairs"></i> –ü—Ä–∞–∫–∏</button>
      <button class="menu-item" id="btn-about" onclick="selectTab('about', this)"><i class="fas fa-shield-alt"></i> –ò–Ω—Ñ–æ</button>
      <button class="menu-item" id="btn-news" onclick="selectTab('news', this)"><i class="fas fa-bolt"></i> –ù–æ–≤–æ—Å—Ç–∏</button>
      <button class="menu-item" id="btn-media" onclick="selectTab('media', this)"><i class="fas fa-play-circle"></i> –ú–µ–¥–∏–∞</button>
      <button class="menu-item" id="btn-history" onclick="selectTab('history', this)"><i class="fas fa-trophy"></i> –ú–∞—Ç—á–∏</button>
      <button class="menu-item" id="btn-reviews" onclick="selectTab('reviews', this)"><i class="fas fa-star"></i> –û—Ç–∑—ã–≤—ã</button>
      <div style="height: 1px; background: rgba(255,255,255,0.1); margin: 5px 0;"></div>
      <button class="menu-item" style="color: var(--accent);" onclick="selectTab('join', this)"><i class="fas fa-user-plus"></i> –í—Å—Ç—É–ø–∏—Ç—å</button>
    </div>
</nav>

<div class="container">

    <section id="home" class="active">
      <div class="card text-center" style="padding: 50px 20px; border-top: 1px solid var(--accent);">
        <h2 class="hero-title" data-text="AIREX TEAM">AIREX TEAM</h2>
        <div id="typing-text"></div>
        <button class="btn-glitch" onclick="selectTab('join', null)" style="max-width: 250px;">
             –ü–û–î–ê–¢–¨ –ó–ê–Ø–í–ö–£ <i class="fas fa-angle-right" style="margin-left: 10px;"></i>
        </button>
      </div>
      
      <div class="card match-card">
        <div style="display: flex; justify-content: space-between; border-bottom: 1px solid rgba(255,255,255,0.05); padding-bottom: 10px; margin-bottom: 15px;">
            <span class="font-tech text-accent" style="font-size: 11px;"><i class="fas fa-satellite-dish"></i> MATCH CENTER</span>
            <span id="match-status" style="font-size: 10px; color: #fff; background: #c00; padding: 2px 6px; border-radius: 3px;">OFFLINE</span>
        </div>
        
        <div class="match-teams" style="display: flex; align-items: center; justify-content: space-between; position: relative;">
          <div class="text-center" style="flex: 1;">
             <div class="font-tech" style="font-size: 24px; font-weight: 700;">ARX</div>
             <div style="font-size: 10px; color: var(--text-gray);">Airex Team</div>
          </div>
          <div style="font-family: var(--font-tech); font-size: 20px; color: var(--accent); font-style: italic;">VS</div>
          <div class="text-center" style="flex: 1;">
            <div class="font-tech" style="font-size: 24px; font-weight: 700;" id="enemy-name-display">TBA</div>
            <div style="font-size: 10px; color: var(--text-gray);">Opponent</div>
          </div>
        </div>

        <div id="countdown" class="countdown">
           <span style="font-size: 12px; color: #666; align-self: center;">–û–ñ–ò–î–ê–ù–ò–ï –ê–ù–û–ù–°–ê...</span>
        </div>
      </div> 

      <div class="card">
          <h3 class="font-tech" style="font-size: 14px; margin-top: 0; margin-bottom: 15px; color: #fff;">
              <i class="fas fa-bolt text-accent"></i> –ü–û–°–õ–ï–î–ù–ò–ï –°–û–ë–´–¢–ò–Ø
          </h3>
          <div id="home-news-feed">
             <div class="text-center" style="font-size: 12px; color: #666; padding: 20px;">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...</div>
          </div>
          <button class="btn-glitch btn-secondary" onclick="selectTab('news', document.getElementById('btn-news'))" style="margin-top:10px;">
            –ê–†–•–ò–í –ù–û–í–û–°–¢–ï–ô
          </button>
      </div>

     <div class="card text-center" style="background: linear-gradient(45deg, rgba(255,0,76,0.1), transparent);">
      <h3 class="font-tech" style="font-size: 16px;">SUPPORT TEAM</h3>
      <a href="https://dalink.to/airex_team_esports" target="_blank" class="btn-glitch" style="background: var(--accent); border: none; width: auto; display: inline-flex; margin-top: 10px;">
        <i class="fas fa-heart" style="margin-right: 8px;"></i> –û–¢–ü–†–ê–í–ò–¢–¨ –î–û–ù–ê–¢
      </a>
    </div>
    </section>

    <section id="team">
      <div class="text-center" style="margin-bottom: 30px;">
        <h2 class="font-tech text-accent">MAIN ROSTER</h2>
      </div>
      <div class="roster-grid" id="dynamic-roster"></div>
      
      <div class="text-center" style="margin: 50px 0 30px 0;">
        <h2 class="font-tech" style="color: #666;">RESERVE</h2>
      </div>
      <div class="roster-grid" id="dynamic-roster-reserve"></div>
    </section>

    <section id="practice">
      <div class="card">
        <h2 class="font-tech text-accent text-center" style="margin-bottom: 20px;">–ó–ê–ë–ò–¢–¨ –ü–†–ê–ö (CW)</h2>
        <form id="prac-form" onsubmit="submitPrac(event)">
            <div class="form-group" style="border: 1px dashed var(--accent); padding: 15px; border-radius: 8px; background: rgba(255,0,76,0.03);">
                <label class="form-label">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–ª–æ—Ç—ã</label>
                <select id="prac-slot-select" class="form-input" required>
                    <option value="" disabled selected>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label">–í–∞—à –ö–ª–∞–Ω</label>
                <input type="text" id="pc-clan" class="form-input" placeholder="Team Name" required>
            </div>
            <div style="display: flex; gap: 10px;">
                <div class="form-group" style="flex:1;">
                    <label class="form-label">–ù–∏–∫ –ö–∞–ø–∏—Ç–∞–Ω–∞</label>
                    <input type="text" id="pc-cap" class="form-input" required>
                </div>
                <div class="form-group" style="flex:1;">
                    <label class="form-label">ID</label>
                    <input type="number" id="pc-id" class="form-input" required>
                </div>
            </div>
            <div class="form-group">
                <label class="form-label">–°–≤—è–∑—å (TG/VK)</label>
                <input type="text" id="pc-contact" class="form-input" placeholder="@username" required>
            </div>
            
            <div class="form-group">
                <label class="form-label">–§–æ—Ä–º–∞—Ç</label>
                <div style="display:flex; gap: 15px; margin-top: 5px; font-size: 13px;">
                    <label><input type="radio" name="format" value="BO1" checked> BO1</label>
                    <label><input type="radio" name="format" value="BO2"> BO2</label>
                    <label><input type="radio" name="format" value="BO3"> BO3</label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">–ö–∞—Ä—Ç—ã</label>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 12px; color: #ccc;">
                   <label><input type="checkbox" class="map-check" value="Sandstone"> Sandstone</label>
                   <label><input type="checkbox" class="map-check" value="Rust"> Rust</label>
                   <label><input type="checkbox" class="map-check" value="Dune"> Dune</label>
                   <label><input type="checkbox" class="map-check" value="Hanami"> Hanami</label>
                   <label><input type="checkbox" class="map-check" value="Breeze"> Breeze</label>
                   <label><input type="checkbox" class="map-check" value="Province"> Province</label>
                   <label><input type="checkbox" class="map-check" value="Sakura"> Sakura</label>
                   <label><input type="checkbox" class="map-check" value="Zone 9"> Zone 9</label>
                </div>
            </div>
            
            <div class="form-group">
                <label class="form-label">–°–æ—Å—Ç–∞–≤</label>
                <textarea id="pc-lineup" class="form-input" rows="2" placeholder="–°–ø–∏—Å–æ–∫ –∏–≥—Ä–æ–∫–æ–≤..."></textarea>
            </div>

            <button type="submit" class="btn-glitch">–†–ï–ì–ò–°–¢–†–ê–¶–ò–Ø</button>
        </form>
      </div>
      
      <div class="card">
          <h3 style="font-size:14px; color: #888; margin-top:0;">–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ù–´–ï –ú–ê–¢–ß–ò</h3>
          <div id="public-booked-list"></div>
      </div>
    </section>

    <section id="about">
       <div class="card">
           <h3 class="font-tech text-center">HISTORY & ROADMAP</h3>
           <div class="roadmap-container" id="roadmap-container" style="position: relative; padding-left: 20px; margin-top: 20px;">
               <div class="text-center" style="color: #666; font-size: 12px;">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏...</div>
           </div>
       </div>
       <div class="card text-center">
        <h3>SOCIAL LINKS</h3>
        <div style="font-size: 32px; display: flex; justify-content: center; gap: 20px; margin-top: 15px;">
          <a href="https://t.me/airex_team_esports" class="text-accent"><i class="fab fa-telegram"></i></a>
          <a href="https://www.tiktok.com/@airex_team" class="text-accent"><i class="fab fa-tiktok"></i></a>
          <a href="https://youtube.com/@airex_team.official" class="text-accent"><i class="fab fa-youtube"></i></a>
        </div>
       </div>
    </section>

    <section id="news">
      <div class="text-center" style="margin-bottom: 20px;">
        <h2 class="font-tech">NEWS FEED</h2>
      </div>
      <div id="dynamic-news-container"></div>
    </section>

    <section id="media">
        <div class="card">
          <h3 class="font-tech">LATEST VIDEO</h3>
          <div id="video-container" style="position: relative; width: 100%; padding-bottom: 56.25%; background: #000; border-radius: 8px;">
             </div>
        </div>
        <div class="card">
          <h3 class="font-tech">GALLERY</h3>
          <div class="gallery-grid" id="gallery-container" style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px;"></div>
        </div> 
    </section>

    <section id="history">
        <div class="text-center" style="margin-bottom: 20px;"><h2 class="font-tech">MATCH RESULTS</h2></div>
        <div id="full-history-container"></div>
    </section>

    <section id="reviews">
        <div class="card">
            <h3 class="font-tech">–û–°–¢–ê–í–ò–¢–¨ –û–¢–ó–´–í</h3>
            <form id="review-form" onsubmit="window.submitReview(event)">
                <div class="form-group">
                    <input type="text" id="rev-nick" class="form-input" placeholder="–í–∞—à –Ω–∏–∫" required>
                </div>
                <div class="form-group">
                    <select id="rev-target" class="form-input">
                        <option value="–ö–æ–º–∞–Ω–¥–µ">–í—Å–µ–π –∫–æ–º–∞–Ω–¥–µ</option>
                        <option value="–ö–∞–ø–∏—Ç–∞–Ω—É">–ö–∞–ø–∏—Ç–∞–Ω—É</option>
                        <option value="–ú–µ–Ω–µ–¥–∂–µ—Ä—É">–ú–µ–Ω–µ–¥–∂–µ—Ä—É</option>
                    </select>
                </div>
                <div class="form-group">
                    <textarea id="rev-text" class="form-input" placeholder="–°–æ–æ–±—â–µ–Ω–∏–µ..." required></textarea>
                </div>
                <button type="submit" class="btn-glitch">–û–¢–ü–†–ê–í–ò–¢–¨</button>
            </form>
        </div>
        <div id="reviews-container"></div>
    </section>

    <section id="join">
      <div class="card">
        <div class="text-center">
            <h2 class="font-tech text-accent">JOIN REQUEST</h2>
            <p style="font-size: 12px; color: #888;">–ó–∞—è–≤–∫–∞ –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤ Telegram —à—Ç–∞–±–∞.</p>
        </div>
        <form onsubmit="sendToTelegram(event)" autocomplete="off" style="margin-top: 20px;">
          <div class="form-group"><input type="text" id="nick" class="form-input" placeholder="Nickname" required></div>
          <div style="display:flex; gap:10px;">
              <div class="form-group" style="flex:1;"><input type="number" id="age" class="form-input" placeholder="Age" required></div>
              <div class="form-group" style="flex:1;"><input type="number" step="0.01" id="kd" class="form-input" placeholder="K/D" required></div>
          </div>
          <div class="form-group">
            <select id="role" class="form-input">
                <option>Rifler</option>
                <option>Sniper</option>
                <option>Captain</option>
                <option>Entry Fragger</option>
                <option>Support</option>
                <option>Open-Fragger</option>
                <option>Lurker</option>
            </select>
          </div>
          <div class="form-group"><input type="text" id="best_rank" class="form-input" placeholder="Current Rank" required></div>
          <button type="submit" class="btn-glitch">–û–¢–ü–†–ê–í–ò–¢–¨ –î–ê–ù–ù–´–ï</button>
        </form>
      </div>
    </section>

    <footer style="text-align: center; color: #444; font-size: 9px; font-family: var(--font-tech); text-transform: uppercase; margin-top: 40px;">
        <p>&copy; 2026 AIREX TEAM - –û—Ñ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Å–∞–π—Ç –∫–æ–º–∞–Ω–¥—ã</p>
    </footer>

</div>

<div id="notify-container" style="position: fixed; top: 90px; right: 20px; z-index: 10000; display: flex; flex-direction: column; gap: 10px; pointer-events: none;"></div>
<script type="module">
    // --- –¢–ï–õ–ï–ì–†–ê–ú –ö–û–ù–§–ò–ì (–ó–ê–ú–ï–ù–ò –ù–ê –°–í–û–ò –î–ê–ù–ù–´–ï) ---
const TG_CONFIG = {
    token: "8350126335:AAEGBd3ASBvZVVG9qeFseWlpdlZpznTEe1s", // –¢–æ–∫–µ–Ω –æ—Ç @BotFather
    channelId: "-1003511221408", // ID –∫–∞–Ω–∞–ª–∞ –¥–ª—è –ø—Ä–∞–∫–æ–≤ –∏ –æ—Ç–∑—ã–≤–æ–≤
    groupId: "-1003413398300"    // ID –≥—Ä—É–ø–ø—ã –¥–ª—è –∑–∞—è–≤–æ–∫ –≤ –∫–ª–∞–Ω
};

// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
async function sendToBot(chatId, message) {
    try {
        await fetch(`https://api.telegram.org/bot${TG_CONFIG.token}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({
                chat_id: chatId,
                text: message,
                parse_mode: 'Markdown'
            })
        });
    } catch (e) {
        console.error("TG Send Error:", e);
    }
}


    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getFirestore, doc, onSnapshot, getDoc, setDoc, updateDoc, arrayUnion } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore.js";

    // --- 1. CONFIGURATION (DO NOT TOUCH) ---
    const firebaseConfig = {
      apiKey: "AIzaSyDVFYaxAtzEi5zF8yi_ORJQYL66wQa-gpE", 
      authDomain: "airexsite.firebaseapp.com",
      projectId: "airexsite",
      storageBucket: "airexsite.firebasestorage.app",
      messagingSenderId: "276640665598",
      appId: "1:276640665598:web:d7400bd5962995efb43aaf"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // --- 2. SECURITY UTILS (ANTI-XSS) ---
    // –≠—Ç–∞ —Ñ—É–Ω–∫—Ü–∏—è –æ–±–µ–∑–≤—Ä–µ–∂–∏–≤–∞–µ—Ç –ª—é–±–æ–π HTML –∫–æ–¥ –≤ —Ç–µ–∫—Å—Ç–µ
    const escapeHTML = (str) => {
        if (!str) return "";
        return str.replace(/[&<>'"]/g, 
            tag => ({
                '&': '&amp;', '<': '&lt;', '>': '&gt;', "'": '&#39;', '"': '&quot;'
            }[tag]));
    };

    // --- 3. UI SYSTEM & NAVIGATION ---
    
    // Preloader Logic
    window.addEventListener('load', () => {
        const preloader = document.getElementById('preloader');
        setTimeout(() => {
            if(preloader) {
                preloader.style.opacity = '0';
                setTimeout(() => preloader.remove(), 500);
            }
            // Start Typing Effect
            typeWriter();
        }, 800);
    });

    // Tab Switching Logic
    window.selectTab = (tabId, btn) => {
        // Hide all sections
        document.querySelectorAll('section').forEach(s => { 
            s.classList.remove('active'); 
            setTimeout(() => { if(!s.classList.contains('active')) s.style.opacity = '0'; }, 400);
        });

        // Show target section
        const target = document.getElementById(tabId);
        if(target) { 
            target.classList.add('active');
            // Small delay for animation
            requestAnimationFrame(() => { target.style.opacity = '1'; });
        }
        
        // Update Buttons
        document.querySelectorAll('.menu-item').forEach(i => i.classList.remove('active-tab'));
        if(btn) {
            btn.classList.add('active-tab');
            // Remove badge if exists (User saw the content)
            if(btn.classList.contains('has-update')) {
                btn.classList.remove('has-update');
                localStorage.setItem('last_seen_' + tabId, Date.now());
            }
        }

        // Close Menu automatically
        const dropdown = document.getElementById('navDropdown');
        const menuBtn = document.getElementById('menuBtn');
        if(dropdown) dropdown.classList.remove('active');
        if(menuBtn) menuBtn.classList.remove('active');
        
        // Scroll to top
        window.scrollTo(0, 0);
    };
    
    window.toggleMenu = () => {
        const dd = document.getElementById('navDropdown');
        const btn = document.getElementById('menuBtn');
        if(dd) dd.classList.toggle('active');
        if(btn) btn.classList.toggle('active');
    };

    // --- 4. FIREBASE DATA SYNC ---

    // === NEWS SYSTEM ===
    onSnapshot(doc(db, "siteData", "news"), (snap) => {
        const list = (snap.exists() && snap.data().list) ? snap.data().list : [];
        
        // 1. Home Feed (Short)
        const homeFeed = document.getElementById('home-news-feed');
        if(homeFeed) {
            if(!list.length) {
                homeFeed.innerHTML = '<div class="text-center" style="font-size:10px; padding:20px;">–ù–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π</div>';
            } else {
                homeFeed.innerHTML = list.slice(0, 3).map(n => `
                    <div class="news-card-home" onclick="selectTab('news', document.getElementById('btn-news'))" style="cursor:pointer;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px;">
                            <span style="color:var(--accent); font-size:9px; font-weight:800;">${escapeHTML(n.tag || 'LIVE')}</span>
                            <span style="color: #666; font-size: 9px;">${escapeHTML(n.date)}</span>
                        </div>
                        <div style="font-family: var(--font-tech); font-size: 13px; color: #eee; line-height:1.4;">
                            ${escapeHTML(n.title)}
                        </div>
                    </div>
                `).join('');
            }
        }

        // 2. Full Feed
        const fullFeed = document.getElementById('dynamic-news-container');
        if(fullFeed) {
            fullFeed.innerHTML = list.slice().reverse().map(n => `
                <div class="card" style="border-left: 2px solid var(--accent);">
                    <div style="font-size:10px; color:var(--accent); font-weight:700; margin-bottom:10px;">
                        ${escapeHTML(n.date)} <span style="color:#fff; opacity:0.5;">[${escapeHTML(n.tag || 'NEWS')}]</span>
                    </div>
                    <h2 style="font-family: var(--font-tech); font-size: 18px; margin: 0 0 15px 0; color: #fff;">${escapeHTML(n.title)}</h2>
                    <div style="font-size: 13px; color: #ccc; line-height: 1.6; white-space: pre-wrap;">${n.text}</div> 
                    </div>
            `).join('');
        }

        // 3. Check Badge
        if(list.length > 0) {
            const latestId = Math.max(...list.map(i => i.id || 0));
            checkUpdateBadge('news', latestId, 'btn-news');
        }
    });

    // === MATCH TIMER SYSTEM ===
    let timerInterval;
    onSnapshot(doc(db, "siteData", "match"), (snap) => {
        if(snap.exists()) {
            const data = snap.data();
            const enemyEl = document.getElementById('enemy-name-display');
            if(enemyEl) enemyEl.innerText = escapeHTML(data.enemy || "TBA");
            
            // –ï—Å–ª–∏ –¥–∞—Ç–∞ –µ—Å—Ç—å - –∑–∞–ø—É—Å–∫–∞–µ–º —Ç–∞–π–º–µ—Ä, –∏–Ω–∞—á–µ "–û–∂–∏–¥–∞–Ω–∏–µ"
            if(data.date) startTimer(data.date);
            else stopTimer("TBA");
        }
    });

    function stopTimer(msg) {
        if(timerInterval) clearInterval(timerInterval);
        const cdEl = document.getElementById('countdown');
        const stEl = document.getElementById('match-status');
        if(cdEl) cdEl.innerHTML = `<span style="font-size:12px; color:#666;">${msg}</span>`;
        if(stEl) { stEl.innerText = "OFFLINE"; stEl.style.background = "#333"; }
    }

    function startTimer(isoDate) {
        if(timerInterval) clearInterval(timerInterval);
        const target = new Date(isoDate).getTime();
        
        const update = () => {
            const now = new Date().getTime();
            const diff = target - now;
            const statusEl = document.getElementById('match-status');
            const cdEl = document.getElementById('countdown');

            if (!statusEl || !cdEl) return;
            
            if(diff < 0) {
                statusEl.innerText = "LIVE / END";
                statusEl.style.background = "var(--accent)";
                cdEl.innerHTML = "<span style='font-size:16px; font-weight:700; color:var(--accent);'>MATCH IN PROGRESS</span>";
                clearInterval(timerInterval);
                return;
            }
            
            const d = Math.floor(diff / (1000 * 60 * 60 * 24));
            const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            
            cdEl.innerHTML = `
               <div class="text-center"><div class="cd-num">${d}</div><div class="cd-lbl">DAYS</div></div>
               <div style="font-size:24px; padding-bottom:15px; color:#444;">:</div>
               <div class="text-center"><div class="cd-num">${h}</div><div class="cd-lbl">HRS</div></div>
               <div style="font-size:24px; padding-bottom:15px; color:#444;">:</div>
               <div class="text-center"><div class="cd-num">${m}</div><div class="cd-lbl">MIN</div></div>
            `;
            statusEl.innerText = "UPCOMING";
            statusEl.style.background = "var(--success)";
            statusEl.style.color = "#000";
        };
        
        update(); // run immediately
        timerInterval = setInterval(update, 1000); // run every second
    }

    // === –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –°–ò–°–¢–ï–ú–ê ROSTER (EVO CARDS) ===
    const renderRoster = (list, elementId) => {
        const el = document.getElementById(elementId);
        if(!el) return;
        
        if(!list || !list.length) {
            el.innerHTML = `
                <div style="grid-column: 1/-1; text-align: center; padding: 40px; border: 1px dashed #333; color: #555;">
                    <i class="fas fa-user-secret" style="font-size: 30px; margin-bottom: 10px;"></i><br>
                    –î–ê–ù–ù–´–ï –ó–ê–°–ï–ö–†–ï–ß–ï–ù–´ –ò–õ–ò –û–¢–°–£–¢–°–¢–í–£–Æ–¢
                </div>`;
            return;
        }

        el.innerHTML = list.map(p => `
            <div class="evo-card" onclick="void(0)"> <div class="tech-line"></div>
                
                <img src="${p.img || 'https://via.placeholder.com/400x600/111/333?text=AGENT'}" 
                     class="evo-avatar" 
                     onerror="this.src='https://via.placeholder.com/400x600/111/333?text=NO+IMG'">
                
                <div class="evo-overlay"></div>

                <div class="evo-info">
                    <div class="evo-role">${escapeHTML(p.role || 'MEMBER')}</div>
                    <h3 class="evo-nick">${escapeHTML(p.nick)}</h3>
                    <div style="font-size:11px; color:#ccc; margin-top:5px; font-style:italic;">
                        "${escapeHTML(p.quote || 'No mercy.')}"
                    </div>
                </div>

                <div class="evo-stats-panel">
                    <div class="stat-box">
                        <div class="stat-val" style="color:var(--success)">${escapeHTML(String(p.stats.kd))}</div>
                        <div class="stat-lbl">K/D RATIO</div>
                    </div>
                    <div style="width:1px; height:30px; background:#333;"></div>
                    <div class="stat-box">
                        <div class="stat-val">${escapeHTML(p.stats.rank)}</div>
                        <div class="stat-lbl">MM RANK</div>
                    </div>
                    <div style="width:1px; height:30px; background:#333;"></div>
                     <div class="stat-box">
                        <div class="stat-val" style="font-size:14px; max-width:80px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis;">
                            ${escapeHTML(p.device || 'iPad')}
                        </div>
                        <div class="stat-lbl">DEVICE</div>
                    </div>
                </div>
            </div>
        `).join('');
    };

    // –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ (–æ—Å—Ç–∞–µ—Ç—Å—è —Ç–µ–º –∂–µ, –ø—Ä–æ—Å—Ç–æ —É–±–µ–¥–∏—Å—å, —á—Ç–æ —ç—Ç–∏ —Å—Ç—Ä–æ–∫–∏ –µ—Å—Ç—å –Ω–∏–∂–µ —Ñ—É–Ω–∫—Ü–∏–∏)
    onSnapshot(doc(db, "siteData", "roster_main"), (s) => renderRoster(s.exists() ? s.data().list : [], 'dynamic-roster'));
    onSnapshot(doc(db, "siteData", "roster_reserve"), (s) => renderRoster(s.exists() ? s.data().list : [], 'dynamic-roster-reserve'));

    // === PRACTICE (CW) SYSTEM ===
    onSnapshot(doc(db, "siteData", "practices"), (snap) => {
        const select = document.getElementById('prac-slot-select');
        const publicList = document.getElementById('public-booked-list');
        
        if (!snap.exists() || !snap.data().list) return;

        const allSlots = snap.data().list;
        allSlots.sort((a, b) => new Date(a.isoDate) - new Date(b.isoDate));

        // Fill Dropdown
        const openSlots = allSlots.filter(s => s.status === 'open' && new Date(s.isoDate) > new Date());
        if (select) {
            if (!openSlots.length) {
                select.innerHTML = '<option disabled selected>–ù–µ—Ç —Å–≤–æ–±–æ–¥–Ω—ã—Ö —Å–ª–æ—Ç–æ–≤</option>';
            } else {
                select.innerHTML = '<option value="" disabled selected>-- –í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è --</option>' + 
                    openSlots.map(s => `<option value="${s.id}">${escapeHTML(s.displayTime)}</option>`).join('');
            }
        }

        // Fill Public List
        const bookedSlots = allSlots.filter(s => s.status === 'booked');
        if (publicList) {
            publicList.innerHTML = !bookedSlots.length 
                ? '<div style="font-size:11px; color:#555; text-align:center; padding:10px;">–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ —á–∏—Å—Ç–æ</div>'
                : bookedSlots.map(s => `
                    <div style="border-bottom: 1px solid rgba(255,255,255,0.05); padding: 10px 0;">
                        <div style="display:flex; justify-content:space-between;">
                            <span style="color:var(--accent); font-size:12px; font-weight:700;">${escapeHTML(s.displayTime)}</span>
                            <span style="font-size:10px; padding:2px 6px; background:#111; border:1px solid #333; border-radius:4px;">CONFIRMED</span>
                        </div>
                        <div style="margin-top:5px; font-size:14px; font-weight:600;">
                            VS ${escapeHTML(s.team.clanName)} 
                            <span style="font-size:10px; color:#888;">(${s.team.format})</span>
                        </div>
                    </div>
                `).join('');
        }
    });

    // 3. –¢–í–û–Ø –û–ë–ù–û–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–†–ê–ö–û–í
window.submitPrac = async (e) => {
    e.preventDefault();
    const slotSelect = document.getElementById('prac-slot-select');
    const slotId = parseInt(slotSelect.value);
    
    if(!slotId) return window.showNotify("–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è!", "error");

    const maps = Array.from(document.querySelectorAll('.map-check:checked')).map(cb => cb.value);
    
    const btn = e.target.querySelector('button');
    const oldText = btn.innerText;
    btn.innerText = "PROCESSING...";
    btn.disabled = true;

    try {
        const ref = doc(db, "siteData", "practices");
        const snap = await getDoc(ref);
        if(!snap.exists()) throw new Error("DB Error");

        let list = snap.data().list;
        const idx = list.findIndex(s => s.id === slotId);

        if (idx === -1 || list[idx].status !== 'open') throw new Error("–°–ª–æ—Ç —É–∂–µ –∑–∞–Ω—è—Ç!");

        // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
        const clanName = document.getElementById('pc-clan').value;
        const captain = document.getElementById('pc-cap').value;
        const contact = document.getElementById('pc-contact').value;
        const format = document.querySelector('input[name="format"]:checked').value;
        const displayTime = list[idx].displayTime;

        // –û–±–Ω–æ–≤–ª—è–µ–º –≤ Firebase
        list[idx].status = 'booked';
        list[idx].team = {
            clanName: escapeHTML(clanName),
            captain: escapeHTML(captain),
            capId: escapeHTML(document.getElementById('pc-id').value),
            contact: escapeHTML(contact),
            format: format,
            maps: maps,
            lineup: escapeHTML(document.getElementById('pc-lineup').value)
        };

        await updateDoc(ref, { list: list });

        // --- –û–¢–ü–†–ê–í–ö–ê –í –¢–ï–õ–ï–ì–†–ê–ú ---
        const tgMsg = `‚ö°Ô∏è *–ù–û–í–´–ô –ü–†–ê–ö (CW)!*\n\n` +
                      `üìÖ *–í—Ä–µ–º—è:* ${displayTime}\n` +
                      `üë• *–ö–ª–∞–Ω:* ${clanName}\n` +
                      `üë§ *–ö–∞–ø–∏—Ç–∞–Ω:* ${captain}\n` +
                      `üìû *–°–≤—è–∑—å:* ${contact}\n` +
                      `üéÆ *–§–æ—Ä–º–∞—Ç:* ${format}\n` +
                      `üó∫ *–ö–∞—Ä—Ç—ã:* ${maps.length > 0 ? maps.join(', ') : '–ù–µ –≤—ã–±—Ä–∞–Ω—ã'}`;

        await sendToBot(TG_CONFIG.channelId, tgMsg);
        // ---------------------------

        window.showNotify("–°–ª–æ—Ç –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω! –î–∞–Ω–Ω—ã–µ –≤ Telegram.", "success");
        e.target.reset();
        
        setTimeout(() => window.location.reload(), 1500);

    } catch (err) {
        window.showNotify(err.message, "error");
        btn.innerText = oldText;
        btn.disabled = false;
    }
};


    // === MEDIA, REVIEWS, HISTORY, ABOUT ===
    onSnapshot(doc(db, "siteData", "about"), (snap) => {
        const list = (snap.exists() && snap.data().roadmap) ? snap.data().roadmap : [];
        const cont = document.getElementById('roadmap-container');
        if(cont) {
            cont.innerHTML = '<div style="position:absolute; left:6px; top:0; bottom:0; width:2px; background:linear-gradient(180deg, var(--accent), transparent);"></div>' + 
            list.map(r => `
                <div style="position:relative; margin-bottom:25px; padding-left:15px;">
                    <div style="position:absolute; left:-18px; top:2px; width:10px; height:10px; background:#000; border:2px solid var(--accent); border-radius:50%; z-index:2;"></div>
                    <div style="font-size:10px; color:var(--accent); font-family:var(--font-tech);">${escapeHTML(r.date)}</div>
                    <div style="font-weight:700; font-size:14px; color:#fff;">${escapeHTML(r.title)}</div>
                    <div style="font-size:11px; color:#888;">${escapeHTML(r.desc)}</div>
                </div>
            `).join('');
        }
    });

    onSnapshot(doc(db, "siteData", "media"), (snap) => {
        if(!snap.exists()) return;
        const d = snap.data();
        if(document.getElementById('video-container') && d.videoId) {
            document.getElementById('video-container').innerHTML = `<iframe style="position:absolute; top:0; left:0; width:100%; height:100%; border:none;" src="https://www.youtube.com/embed/${d.videoId}?rel=0&modestbranding=1" allowfullscreen></iframe>`;
        }
        if(document.getElementById('gallery-container') && d.gallery) {
            document.getElementById('gallery-container').innerHTML = d.gallery.map(g => `
                <div style="background: url('${g.src}') center/cover; height: 100px; border-radius: 6px; cursor: pointer; border:1px solid #333; transition:0.3s;" onmouseover="this.style.borderColor='var(--accent)'" onmouseout="this.style.borderColor='#333'"></div>
            `).join('');
             // Badge Check
             const latest = Math.max(...d.gallery.map(i => i.id || 0));
             checkUpdateBadge('media', latest, 'btn-media');
        }
    });

    onSnapshot(doc(db, "siteData", "reviews"), (snap) => {
        const list = (snap.exists() && snap.data().list) ? snap.data().list : [];
        const el = document.getElementById('reviews-container');
        if(el) {
            el.innerHTML = list.slice().reverse().map(r => `
                <div style="background: rgba(255,255,255,0.02); padding: 15px; border-radius: 8px; margin-top: 10px; border: 1px solid var(--glass-border);">
                    <div style="display:flex; justify-content:space-between; font-size:12px; margin-bottom:5px;">
                        <span style="color:var(--accent); font-weight:700;">${escapeHTML(r.nick)}</span>
                        <span style="color:#666;">to ${escapeHTML(r.target)}</span>
                    </div>
                    <div style="font-size:13px; color:#ccc; font-style:italic;">"${escapeHTML(r.text)}"</div>
                </div>
            `).join('');
        }
    });

    // --- –û–ë–ù–û–í–õ–ï–ù–ù–´–ï –§–£–ù–ö–¶–ò–ò (REVIEWS & APPLICATIONS) ---

// 1. –û–¢–ü–†–ê–í–ö–ê –û–¢–ó–´–í–ê
window.submitReview = async (e) => {
    e.preventDefault();
    
    const nick = document.getElementById('rev-nick').value;
    const target = document.getElementById('rev-target').value;
    const text = document.getElementById('rev-text').value;

    try {
        const ref = doc(db, "siteData", "reviews");
        const snap = await getDoc(ref);
        if(!snap.exists()) await setDoc(ref, { list: [] });
        
        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ Firebase
        await updateDoc(ref, { list: arrayUnion({
            id: Date.now(),
            nick: escapeHTML(nick),
            target: escapeHTML(target),
            text: escapeHTML(text)
        })});

        // --- –û–¢–ü–†–ê–í–ö–ê –í –¢–ï–õ–ï–ì–†–ê–ú (–ö–ê–ù–ê–õ) ---
        const tgMsg = `üí¨ *–ù–û–í–´–ô –û–¢–ó–´–í –ù–ê –°–ê–ô–¢–ï*\n\n` +
                      `üë§ *–û—Ç –∫–æ–≥–æ:* ${nick}\n` +
                      `üéØ *–ö–æ–º—É:* ${target}\n` +
                      `üìù *–¢–µ–∫—Å—Ç:* ${text}`;
        
        await sendToBot(TG_CONFIG.channelId, tgMsg);
        // ------------------------------------

        window.showNotify("–û—Ç–∑—ã–≤ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω!", "success");
        e.target.reset();
    } catch(err) { 
        window.showNotify("–û—à–∏–±–∫–∞ —Å–µ—Ç–∏", "error"); 
    }
};

    // --- 5. HELPERS & FEATURES ---

    // Badge Logic
    function checkUpdateBadge(key, latestId, btnId) {
        const lastSeen = parseInt(localStorage.getItem('last_seen_' + key) || '0');
        const btn = document.getElementById(btnId);
        if (btn) {
            if(latestId > lastSeen) btn.classList.add('has-update');
            else btn.classList.remove('has-update');
        }
    }

    // Typing Effect
    function typeWriter() {
        const text = "STANDOFF 2 PROFESSIONAL TEAM";
        let i = 0;
        const el = document.getElementById('typing-text');
        if(!el) return;
        el.innerHTML = "";
        function type() {
            if (i < text.length) {
                el.innerHTML += text.charAt(i);
                i++;
                setTimeout(type, 80);
            }
        }
        type();
    }

    // Ambient Player
    window.toggleAmbient = () => {
        const audio = document.getElementById('bg-music');
        const icon = document.getElementById('btn-icon');
        const status = document.getElementById('player-status');
        
        if (audio.paused) {
            audio.play().then(() => {
                icon.className = 'fas fa-pause';
                status.innerText = "PLAYING";
                status.style.color = "var(--success)";
            }).catch(() => {
                window.showNotify("Autoplay blocked. Tap again.", "error");
            });
        } else {
            audio.pause();
            icon.className = 'fas fa-play';
            status.innerText = "PAUSED";
            status.style.color = "#888";
        }
    };

// 2. –û–¢–ü–†–ê–í–ö–ê –ó–ê–Ø–í–ö–ò –í –ö–õ–ê–ù (–í –ì–†–£–ü–ü–£)
window.sendToTelegram = async (e) => {
    e.preventDefault();
    const btn = e.target.querySelector('button');
    const oldText = btn.innerText;
    
    btn.disabled = true;
    btn.innerText = "SENDING...";

    const data = {
        nick: document.getElementById('nick').value,
        role: document.getElementById('role').value,
        rank: document.getElementById('best_rank').value,
        kd: document.getElementById('kd').value,
        age: document.getElementById('age').value
    };

    try {
        // --- –û–¢–ü–†–ê–í–ö–ê –í –¢–ï–õ–ï–ì–†–ê–ú (–ì–†–£–ü–ü–ê) ---
        const tgMsg = `üìù *–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê –í CLAN*\n\n` +
                      `üë§ *–ù–∏–∫:* ${data.nick}\n` +
                      `üéØ *–†–æ–ª—å:* ${data.role}\n` +
                      `üèÜ *–†–∞–Ω–≥:* ${data.rank}\n` +
                      `üíÄ *K/D:* ${data.kd}\n` +
                      `üîû *–í–æ–∑—Ä–∞—Å—Ç:* ${data.age}`;

        await sendToBot(TG_CONFIG.groupId, tgMsg);
        // -------------------------------------

        window.showNotify("–ê–Ω–∫–µ—Ç–∞ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ —à—Ç–∞–±!", "success");
        e.target.reset();
    } catch (err) {
        window.showNotify("–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ", "error");
    } finally {
        btn.disabled = false;
        btn.innerText = oldText;
    }
};

</script>
</body>
</html>


